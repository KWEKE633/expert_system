# expert_system

<img src="https://raw.githubusercontent.com/devicons/devicon/master/icons/cplusplus/cplusplus-original.svg" alt="cplusplus" width="50" height="50"/>

## 概要

このプロジェクトは42のカリキュラムの一部であり、与えられた事実とルールに基づいて推論できるエキスパートシステムを**C++**(言語は自由)で実装することを目的としています。このシステムは、命題論理演算子を用いた論理評価に従います。

## 内容

- 次の形式の入力ファイルから一連のルールと事実を解析します。

  ```
  C          =>  E
  A + B + C  =>  D
  A | B      =>  C
  A + !B     =>  F
  C | !G     =>  H
  V ^ W      =>  X
  A + B      =>  Y + Z
  C | D      =>  X | V
  E + F      =>  !V
  A + B      <=> C

  =ABG  # Initial Facts

  ?GVX  # Queries
  ```

- Evaluates logical expressions using:

  - `!` (NOT)
  - `+` (AND)
  - `#` (OR)
  - `^` (XOR)
  - `(` and `)` for grouping expressions

- **AND**, **OR**, **XOR** および **結論における括弧**
- **二条件ルール:** 例えば, "`「AかつBはDの場合に限り成立する」など。`".
- 与えられたクエリの真理値を判定します。
- 矛盾を処理します。
- **インタラクティブな事実検証:** ユーザーは事実を変更することで、同じクエリを異なる入力に対して検証できます。
- **推論の​​視覚化:** 答えを説明するフィードバックを提供します。例えば、"`「Aは真であることが分かっています。A | B => Cが分かっているので、Cは真です」`" など。

##　ビルド手順
```bash
git clone https://github.com/KWEKE633/expert_system.git

make

./expert_system example_input.txt
```

## 💻 技術的ハイライト
- 言語: C++17

- 推論機構: 再帰関数を使用した後向き連鎖

- データ構造:

- 論理式解析のために、演算子の優先順位を厳密に守る抽象構文木 (AST) を採用。

- 無限ループ検出のために、各事実に対して isProcessing フラグを使用。

- 状態伝播の高速化と管理のために、全ての事実とルールを KnowledgeBase クラスで一元管理。

- 例外処理: パーサー内での構文エラー (Syntax Error) を例外処理で検出します。

## 既知の制限事項複雑な否定:
- **!(A+B)** のような括弧全体に対する複雑な否定は、現在の AST 設計では部分的なサポートに留まります。!B のような単一の事実に対する否定は完全にサポートされています。矛盾検出: 必須要件にはありませんが、論理的な矛盾（$A$ と $!A$ が同時に真と証明される）が発生した場合、プログラムはエラーとして終了するのではなく、不安定な推論結果（最後に証明された状態）を出力する可能性があります。
